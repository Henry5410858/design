// =============================================================================
// DESIGN SYSTEM - Comprehensive UI Components & Styling
// =============================================================================

@use "sass:map";

// =============================================================================
// COLOR SYSTEM
// =============================================================================

// Neutral Base Colors (grays, whites, light neutrals)
$neutral-50: #fafafa;
$neutral-100: #f5f5f5;
$neutral-200: #e5e5e5;
$neutral-300: #d4d4d4;
$neutral-400: #a3a3a3;
$neutral-500: #737373;
$neutral-600: #525252;
$neutral-700: #404040;
$neutral-800: #262626;
$neutral-900: #171717;

// Brand Colors (will be dynamically applied from user's brand kit)
$brand-primary: #31dFC5;      // Default brand color
$brand-secondary: #01AAC7;    // Default secondary
$brand-accent: #41015F;       // Default accent

// Semantic Colors
$success: #10b981;
$warning: #f59e0b;
$error: #ef4444;
$info: #3b82f6;

// Background Colors
$bg-primary: #ffffff;
$bg-secondary: $neutral-50;
$bg-tertiary: $neutral-100;
$bg-dark: $neutral-900;

// =============================================================================
// TYPOGRAPHY SYSTEM
// =============================================================================

// Font Family
$font-family-base: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen', 'Ubuntu', 'Cantarell', sans-serif;
$font-family-display: 'Poppins', $font-family-base;

// Font Sizes
$text-xs: 0.75rem;      // 12px
$text-sm: 0.875rem;     // 14px
$text-base: 1rem;       // 16px
$text-lg: 1.125rem;     // 18px
$text-xl: 1.25rem;      // 20px
$text-2xl: 1.5rem;      // 24px
$text-3xl: 1.875rem;    // 30px
$text-4xl: 2.25rem;     // 36px
$text-5xl: 3rem;        // 48px
$text-6xl: 3.75rem;     // 60px

// Font Weights
$font-light: 300;
$font-normal: 400;
$font-medium: 500;
$font-semibold: 600;
$font-bold: 700;
$font-extrabold: 800;

// Line Heights
$leading-tight: 1.25;
$leading-snug: 1.375;
$leading-normal: 1.5;
$leading-relaxed: 1.625;
$leading-loose: 2;

// Typography Scale
$typography: (
  'title-xl': (
    'font-size': $text-5xl,
    'font-weight': $font-bold,
    'line-height': $leading-tight,
    'font-family': $font-family-display
  ),
  'title-lg': (
    'font-size': $text-4xl,
    'font-weight': $font-bold,
    'line-height': $leading-tight,
    'font-family': $font-family-display
  ),
  'title': (
    'font-size': $text-3xl,
    'font-weight': $font-bold,
    'line-height': $leading-tight,
    'font-family': $font-family-display
  ),
  'subtitle-lg': (
    'font-size': $text-xl,
    'font-weight': $font-medium,
    'line-height': $leading-snug,
    'font-family': $font-family-base
  ),
  'subtitle': (
    'font-size': $text-lg,
    'font-weight': $font-medium,
    'line-height': $leading-snug,
    'font-family': $font-family-base
  ),
  'body-lg': (
    'font-size': $text-lg,
    'font-weight': $font-normal,
    'line-height': $leading-relaxed,
    'font-family': $font-family-base
  ),
  'body': (
    'font-size': $text-base,
    'font-weight': $font-normal,
    'line-height': $leading-normal,
    'font-family': $font-family-base
  ),
  'body-sm': (
    'font-size': $text-sm,
    'font-weight': $font-normal,
    'line-height': $leading-normal,
    'font-family': $font-family-base
  ),
  'caption': (
    'font-size': $text-xs,
    'font-weight': $font-normal,
    'line-height': $leading-normal,
    'font-family': $font-family-base
  )
);

// =============================================================================
// SPACING SYSTEM
// =============================================================================

$spacing: (
  '0': 0,
  'px': 1px,
  '0.5': 0.125rem,    // 2px
  '1': 0.25rem,       // 4px
  '1.5': 0.375rem,    // 6px
  '2': 0.5rem,        // 8px
  '2.5': 0.625rem,    // 10px
  '3': 0.75rem,       // 12px
  '3.5': 0.875rem,    // 14px
  '4': 1rem,          // 16px
  '5': 1.25rem,       // 20px
  '6': 1.5rem,        // 24px
  '7': 1.75rem,       // 28px
  '8': 2rem,          // 32px
  '9': 2.25rem,       // 36px
  '10': 2.5rem,       // 40px
  '11': 2.75rem,      // 44px
  '12': 3rem,         // 48px
  '14': 3.5rem,       // 56px
  '16': 4rem,         // 64px
  '20': 5rem,         // 80px
  '24': 6rem,         // 96px
  '28': 7rem,         // 112px
  '32': 8rem,         // 128px
  '36': 9rem,         // 144px
  '40': 10rem,        // 160px
  '44': 11rem,        // 176px
  '48': 12rem,        // 192px
  '52': 13rem,        // 208px
  '56': 14rem,        // 224px
  '60': 15rem,        // 240px
  '64': 16rem,        // 256px
  '72': 18rem,        // 288px
  '80': 20rem,        // 320px
  '96': 24rem         // 384px
);

// =============================================================================
// BORDER RADIUS SYSTEM
// =============================================================================

$radius: (
  'none': 0,
  'sm': 0.125rem,     // 2px
  'base': 0.25rem,    // 4px
  'md': 0.375rem,     // 6px
  'lg': 0.5rem,       // 8px
  'xl': 0.75rem,      // 12px
  '2xl': 1rem,        // 16px
  '3xl': 1.5rem,      // 24px
  'full': 9999px
);

// =============================================================================
// SHADOW SYSTEM
// =============================================================================

$shadows: (
  'none': 'none',
  'sm': '0 1px 2px 0 rgba(0, 0, 0, 0.05)',
  'base': '0 1px 3px 0 rgba(0, 0, 0, 0.1), 0 1px 2px 0 rgba(0, 0, 0, 0.06)',
  'md': '0 4px 6px -1px rgba(0, 0, 0, 0.1), 0 2px 4px -1px rgba(0, 0, 0, 0.06)',
  'lg': '0 10px 15px -3px rgba(0, 0, 0, 0.1), 0 4px 6px -2px rgba(0, 0, 0, 0.05)',
  'xl': '0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)',
  '2xl': '0 25px 50px -12px rgba(0, 0, 0, 0.25)',
  'inner': 'inset 0 2px 4px 0 rgba(0, 0, 0, 0.06)'
);

// =============================================================================
// TRANSITION SYSTEM
// =============================================================================

$transitions: (
  'fast': 150ms ease-in-out,
  'normal': 200ms ease-in-out,
  'slow': 300ms ease-in-out,
  'bounce': 200ms cubic-bezier(0.68, -0.55, 0.265, 1.55)
);

// =============================================================================
// Z-INDEX SYSTEM
// =============================================================================

$z-index: (
  'dropdown': 1000,
  'sticky': 1020,
  'fixed': 1030,
  'modal-backdrop': 1040,
  'modal': 1050,
  'popover': 1060,
  'tooltip': 1070,
  'toast': 1080
);

// =============================================================================
// MIXINS
// =============================================================================

// Typography Mixins
@mixin typography($variant) {
  @if map.has-key($typography, $variant) {
    $styles: map.get($typography, $variant);
    font-size: map.get($styles, 'font-size');
    font-weight: map.get($styles, 'font-weight');
    line-height: map.get($styles, 'line-height');
    font-family: map.get($styles, 'font-family');
  }
}

// Spacing Mixins
@mixin spacing($property, $size) {
  @if map.has-key($spacing, $size) {
    #{$property}: map.get($spacing, $size);
  }
}

// Shadow Mixins
@mixin shadow($size) {
  @if map.has-key($shadows, $size) {
    box-shadow: map.get($shadows, $size);
  }
}

// Transition Mixins
@mixin transition($property: all, $duration: normal) {
  @if map.has-key($transitions, $duration) {
    transition: #{$property} map.get($transitions, $duration);
  }
}

// =============================================================================
// BUTTON COMPONENTS
// =============================================================================

@mixin button-base {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  gap: map.get($spacing, '2');
  padding: map.get($spacing, '2') map.get($spacing, '4');
  border-radius: map.get($radius, '2xl');
  font-weight: $font-medium;
  text-decoration: none;
  cursor: pointer;
  border: none;
  outline: none;
  @include transition();
  
  &:disabled {
    opacity: 0.5;
    cursor: not-allowed;
  }
  
  &:focus-visible {
    outline: 2px solid $brand-primary;
    outline-offset: 2px;
  }
}

@mixin button-primary {
  @include button-base;
  background-color: $brand-primary;
  color: white;
  
  &:hover:not(:disabled) {
    background-color: darken($brand-primary, 10%);
    transform: translateY(-1px);
    @include shadow('lg');
  }
  
  &:active:not(:disabled) {
    transform: translateY(0);
    @include shadow('md');
  }
}

@mixin button-secondary {
  @include button-base;
  background-color: transparent;
  color: $brand-primary;
  border: 1px solid $brand-primary;
  
  &:hover:not(:disabled) {
    background-color: rgba($brand-primary, 0.1);
    transform: translateY(-1px);
    @include shadow('md');
  }
  
  &:active:not(:disabled) {
    transform: translateY(0);
    @include shadow('sm');
  }
}

@mixin button-ghost {
  @include button-base;
  background-color: transparent;
  color: $neutral-600;
  
  &:hover:not(:disabled) {
    background-color: $neutral-100;
    color: $neutral-900;
  }
}

// =============================================================================
// CARD COMPONENTS
// =============================================================================

@mixin card-base {
  background-color: $bg-primary;
  border: 1px solid $neutral-200;
  border-radius: map.get($radius, '2xl');
  @include shadow('base');
  @include transition();
  
  &:hover {
    @include shadow('lg');
    transform: translateY(-2px);
  }
}

@mixin card-interactive {
  @include card-base;
  cursor: pointer;
  
  &:hover {
    border-color: $brand-primary;
  }
}

// =============================================================================
// INPUT COMPONENTS
// =============================================================================

@mixin input-base {
  width: 100%;
  padding: map.get($spacing, '2') map.get($spacing, '3');
  background-color: $bg-primary;
  border: 1px solid $neutral-300;
  border-radius: map.get($radius, 'lg');
  color: $neutral-900;
  font-size: $text-sm;
  @include transition();
  
  &::placeholder {
    color: $neutral-400;
  }
  
  &:focus {
    outline: none;
    border-color: $brand-primary;
    @include shadow('sm');
  }
  
  &:disabled {
    background-color: $neutral-100;
    color: $neutral-500;
    cursor: not-allowed;
  }
}

// =============================================================================
// UTILITY CLASSES
// =============================================================================

// Typography Utilities
@each $name, $styles in $typography {
  .text-#{$name} {
    @include typography($name);
  }
}

// Spacing Utilities
@each $name, $value in $spacing {
  .p-#{$name} { padding: $value; }
  .pt-#{$name} { padding-top: $value; }
  .pr-#{$name} { padding-right: $value; }
  .pb-#{$name} { padding-bottom: $value; }
  .pl-#{$name} { padding-left: $value; }
  .px-#{$name} { padding-left: $value; padding-right: $value; }
  .py-#{$name} { padding-top: $value; padding-bottom: $value; }
  
  .m-#{$name} { margin: $value; }
  .mt-#{$name} { margin-top: $value; }
  .mr-#{$name} { margin-right: $value; }
  .mb-#{$name} { margin-bottom: $value; }
  .ml-#{$name} { margin-left: $value; }
  .mx-#{$name} { margin-left: $value; margin-right: $value; }
  .my-#{$name} { margin-top: $value; margin-bottom: $value; }
}

// Border Radius Utilities
@each $name, $value in $radius {
  .rounded-#{$name} {
    border-radius: $value;
  }
}

// Shadow Utilities
@each $name, $value in $shadows {
  .shadow-#{$name} {
    box-shadow: $value;
  }
}

// =============================================================================
// RESPONSIVE BREAKPOINTS
// =============================================================================

$breakpoints: (
  'sm': 640px,
  'md': 768px,
  'lg': 1024px,
  'xl': 1280px,
  '2xl': 1536px
);

@mixin respond-to($breakpoint) {
  @if map.has-key($breakpoints, $breakpoint) {
    @media (min-width: map.get($breakpoints, $breakpoint)) {
      @content;
    }
  } @else {
    @warn "Unknown breakpoint: #{$breakpoint}";
  }
}

// =============================================================================
// ANIMATIONS
// =============================================================================

@keyframes fadeIn {
  from {
    opacity: 0;
    transform: translateY(10px);
  }
  to {
    opacity: 1;
    transform: translateY(0);
  }
}

@keyframes slideIn {
  from {
    transform: translateX(-100%);
  }
  to {
    transform: translateX(0);
  }
}

@keyframes scaleIn {
  from {
    opacity: 0;
    transform: scale(0.95);
  }
  to {
    opacity: 1;
    transform: scale(1);
  }
}

@keyframes lift {
  from {
    transform: translateY(0);
  }
  to {
    transform: translateY(-4px);
  }
}

// Animation utilities
.animate-fade-in {
  animation: fadeIn map.get($transitions, 'normal') ease-out;
}

.animate-slide-in {
  animation: slideIn map.get($transitions, 'normal') ease-out;
}

.animate-scale-in {
  animation: scaleIn map.get($transitions, 'normal') ease-out;
}

.animate-lift {
  animation: lift map.get($transitions, 'normal') ease-out;
}

// Hover animations
.hover-lift {
  @include transition();
  
  &:hover {
    transform: translateY(-2px);
    @include shadow('lg');
  }
}

.hover-scale {
  @include transition();
  
  &:hover {
    transform: scale(1.02);
  }
}
